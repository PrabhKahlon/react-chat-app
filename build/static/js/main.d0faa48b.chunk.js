(this["webpackJsonpreact-source"]=this["webpackJsonpreact-source"]||[]).push([[0],{74:function(e,t,n){"use strict";n.r(t);var s=n(1),a=n.n(s),c=n(35),r=n.n(c),i=n(7),o=n(19),l=n(0);function d(e){return e.message.join?Object(l.jsx)("div",{className:"mb-2 align-self-center",children:Object(l.jsxs)("p",{className:"text-muted",children:[e.message.username," has connected"]})}):e.message.leave?Object(l.jsx)("div",{className:"mb-2 align-self-center",children:Object(l.jsxs)("p",{className:"text-muted",children:[e.message.username," has disconnected"]})}):Object(l.jsxs)("div",{className:e.message.receive?"toast show mb-2":"toast show align-self-end mb-2",role:"alert","aria-live":"assertive","aria-atomic":"true",id:"messageReceived",children:[Object(l.jsxs)("div",{className:"toast-header",children:[Object(l.jsx)("strong",{className:"me-auto",children:e.message.username}),Object(l.jsx)("small",{children:new Date(e.message.date).toLocaleString([],{weekday:"short",hour:"2-digit",minute:"2-digit"})})]}),Object(l.jsx)("div",{className:"toast-body",children:e.message.data})]})}function m(e){var t=Object(s.useState)(""),n=Object(i.a)(t,2),a=n[0],c=n[1],r=Object(s.useState)([]),m=Object(i.a)(r,2),u=m[0],j=m[1],b=Object(s.useRef)(null);return Object(s.useEffect)((function(){return e.socket.on("messageReceive",(function(e){j((function(t){return[].concat(Object(o.a)(t),[{id:e.id,username:e.username,data:e.data,date:(new Date).getTime(),receive:!0,join:e.join,leave:e.leave}])}))})),function(){e.socket.off("messageReceive")}}),[e.socket]),Object(s.useEffect)((function(){!function(){var e;null===(e=b.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}()}),[u]),Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{style:{maxWidth:"1200px"},className:"container-fluid vh-100 border-start border-end border-secondary",children:[Object(l.jsxs)("div",{style:{height:"93%"},className:"d-flex flex-column overflow-auto p-1 pt-4",children:[u.map((function(e,t){return Object(l.jsx)(d,{message:e},t)})),Object(l.jsx)("div",{ref:b})]}),Object(l.jsx)("div",{style:{height:"7%"},className:"mx-auto",children:Object(l.jsxs)("form",{className:"row align-items-center mx-auto",onSubmit:function(t){t.preventDefault();var n={id:e.socket.id,username:e.username,data:a,date:(new Date).getTime(),receive:!1};e.socket.emit("messageSend",n),j((function(e){return[].concat(Object(o.a)(e),[n])})),c("")},children:[Object(l.jsx)("div",{className:"col p-0 justify-content-end",children:Object(l.jsx)("input",{type:"text",className:"form-control",id:"message",placeholder:"Enter Message",value:a,onChange:function(e){c(e.target.value)}})}),Object(l.jsx)("div",{className:"col-md-auto p-1",children:Object(l.jsx)("button",{style:{maxWidth:"100px"},type:"submit",className:"btn btn-primary",children:"Submit"})})]})})]})})}function u(e){var t=Object(s.useState)(""),n=Object(i.a)(t,2),a=n[0],c=n[1];return Object(l.jsx)("div",{className:"d-flex justify-content-center align-items-center vw-100 vh-100",children:Object(l.jsx)("div",{className:"align-middle border border-secondary rounded p-4 form-group",style:{width:"95%",maxWidth:"400px",maxHeight:"500px"},children:Object(l.jsxs)("form",{className:"mx-auto align-middle",onSubmit:function(t){t.preventDefault(),e.changeUserName(a)},children:[Object(l.jsx)("label",{className:"form-label",htmlFor:"username",children:"Username"}),Object(l.jsx)("input",{className:"form-control mb-3",name:"username",id:"username",type:"text",placeholder:"Enter Username",value:a,onChange:function(e){c(e.target.value)}}),Object(l.jsx)("input",{className:"btn btn-secondary",type:"submit",value:"Login"})]})})})}var j=n(36),b=n.n(j);var h=function(){var e=Object(s.useState)(null),t=Object(i.a)(e,2),n=t[0],a=t[1],c=Object(s.useState)(null),r=Object(i.a)(c,2),o=r[0],d=r[1];return Object(s.useEffect)((function(){var e=b()();return e.on("connect",(function(){d(e)})),function(){e.off("connect"),e.disconnect()}}),[]),o?Object(l.jsx)("div",{className:"App",children:n?Object(l.jsx)(m,{username:n,socket:o}):Object(l.jsx)(u,{changeUserName:function(e){a(e),o.emit("newUser",e)}})}):Object(l.jsx)("div",{children:"Connecting..."})},f=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,75)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),s(e),a(e),c(e),r(e)}))};n(73);r.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(h,{})}),document.getElementById("root")),f()}},[[74,1,2]]]);
//# sourceMappingURL=main.d0faa48b.chunk.js.map